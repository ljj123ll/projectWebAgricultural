以下是根据你的数据库设计和功能需求，为助农产品销售系统设计的 **RESTful API 接口文档**。接口按照 **用户端、商家端、管理员端** 分模块组织，可直接导入 Apifox 进行测试。

---

## 通用约定
- **Base URL**: `http://localhost:8080/api`
- **认证方式**: 登录后获取 `Token`，在请求头中携带 `Authorization: Bearer {Token}`
- **统一响应格式**:
  ```json
  {
    "code": 200,
    "msg": "操作成功",
    "data": {}
  }
  ```
- **分页参数**: `pageNum`（页码，默认1）、`pageSize`（每页数量，默认10）

---

## 一、用户端 API
### 1. 登录注册模块
| 接口名称 | 方法 | 路径 | 说明 |
|---------|------|------|------|
| 发送短信验证码 | POST | `/user/sms/send` | 无需认证 |
| 注册 | POST | `/user/register` | 无需认证 |
| 验证码登录 | POST | `/user/login/sms` | 无需认证 |
| 密码登录 | POST | `/user/login/password` | 无需认证 |
| 重置密码 | PUT | `/user/password/reset` | 无需认证 |
| 退出登录 | POST | `/user/logout` | 需认证 |

#### 示例：注册
**请求 Body**:
```json
{
  "phone": "13800138000",
  "code": "123456",
  "nickname": "张三",
  "password": "123456"
}
```
**响应 Data**:
```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "userInfo": {
    "id": 1,
    "phone": "13800138000",
    "nickname": "张三"
  }
}
```

---

### 2. 商品浏览模块
| 接口名称 | 方法 | 路径 | 说明 |
|---------|------|------|------|
| 首页数据 | GET | `/user/home` | 推荐/热销/滞销/新闻 |
| 商品搜索 | GET | `/user/products/search` | 支持关键词、排序、筛选 |
| 商品详情 | GET | `/user/products/{id}` | 含溯源信息 |
| 热销榜单 | GET | `/user/products/hot` | ZSet缓存 |

#### 示例：商品搜索
**请求 Query**:
```
keyword=苹果&sortBy=sales&pageNum=1&pageSize=10
```
**响应 Data**:
```json
{
  "total": 50,
  "list": [
    {
      "id": 1,
      "productName": "红富士苹果",
      "price": 29.90,
      "salesVolume": 1000,
      "stock": 50
    }
  ]
}
```

---

### 3. 购物车模块
| 接口名称 | 方法 | 路径 | 说明 |
|---------|------|------|------|
| 查看购物车 | GET | `/user/cart` | 需认证 |
| 添加商品 | POST | `/user/cart` | 需认证 |
| 修改数量 | PUT | `/user/cart/{id}` | 需认证 |
| 删除商品 | DELETE | `/user/cart/{id}` | 需认证 |

---

### 4. 订单模块
| 接口名称 | 方法 | 路径 | 说明 |
|---------|------|------|------|
| 创建订单 | POST | `/user/orders` | 需认证，扣库存 |
| 订单列表 | GET | `/user/orders` | 需认证，支持状态筛选 |
| 订单详情 | GET | `/user/orders/{id}` | 需认证 |
| 取消订单 | PUT | `/user/orders/{id}/cancel` | 需认证，回滚库存 |
| 支付订单 | POST | `/user/orders/{id}/pay` | 需认证，15分钟超时 |
| 确认收货 | PUT | `/user/orders/{id}/receive` | 需认证 |

---

### 5. 个人中心模块
| 接口名称 | 方法 | 路径 | 说明 |
|---------|------|------|------|
| 用户信息 | GET | `/user/info` | 需认证 |
| 修改信息 | PUT | `/user/info` | 需认证 |
| 地址列表 | GET | `/user/addresses` | 需认证 |
| 添加地址 | POST | `/user/addresses` | 需认证 |
| 设置默认 | PUT | `/user/addresses/{id}/default` | 需认证 |

---

### 6. 售后评价模块
| 接口名称 | 方法 | 路径 | 说明 |
|---------|------|------|------|
| 发起售后 | POST | `/user/after-sale` | 需认证 |
| 售后列表 | GET | `/user/after-sale` | 需认证 |
| 提交评价 | POST | `/user/comments` | 需认证，订单完成后 |

---

## 二、商家端 API
### 1. 登录审核模块
| 接口名称 | 方法 | 路径 | 说明 |
|---------|------|------|------|
| 商家注册 | POST | `/merchant/register` | 提交资质审核 |
| 商家登录 | POST | `/merchant/login` | 支持验证码/密码 |
| 审核状态 | GET | `/merchant/audit/status` | 需认证 |

---

### 2. 商品管理模块
| 接口名称 | 方法 | 路径 | 说明 |
|---------|------|------|------|
| 商品列表 | GET | `/merchant/products` | 需认证 |
| 新增商品 | POST | `/merchant/products` | 需认证，含溯源信息 |
| 生成溯源码 | POST | `/merchant/products/{id}/qrcode` | 需认证 |
| 上下架 | PUT | `/merchant/products/{id}/status` | 需认证 |

---

### 3. 订单售后模块
| 接口名称 | 方法 | 路径 | 说明 |
|---------|------|------|------|
| 订单列表 | GET | `/merchant/orders` | 需认证，待发货置顶 |
| 发货 | PUT | `/merchant/orders/{id}/ship` | 需认证，填物流单号 |
| 售后列表 | GET | `/merchant/after-sale` | 需认证 |
| 处理售后 | PUT | `/merchant/after-sale/{id}/handle` | 需认证 |

---

### 4. 数据对账模块
| 接口名称 | 方法 | 路径 | 说明 |
|---------|------|------|------|
| 核心数据 | GET | `/merchant/stats` | 近7天销量/营收 |
| 对账明细 | GET | `/merchant/reconciliation` | 每笔订单收入 |
| 补贴明细 | GET | `/merchant/subsidy` | 物流补贴记录 |

---

## 三、管理员端 API
### 1. 权限管控模块
| 接口名称 | 方法 | 路径 | 说明 |
|---------|------|------|------|
| 管理员登录 | POST | `/admin/login` | 账号密码+验证码 |
| 操作日志 | GET | `/admin/logs` | 需超级管理员权限 |

---

### 2. 审核模块
| 接口名称 | 方法 | 路径 | 说明 |
|---------|------|------|------|
| 商家审核列表 | GET | `/admin/merchants/audit` | 需认证 |
| 审核商家 | PUT | `/admin/merchants/{id}/audit` | 需认证 |
| 商品审核列表 | GET | `/admin/products/audit` | 需认证 |
| 审核商品 | PUT | `/admin/products/{id}/audit` | 需认证 |

---

### 3. 资金管控模块
| 接口名称 | 方法 | 路径 | 说明 |
|---------|------|------|------|
| 打款台账 | GET | `/admin/transfers` | 需认证 |
| 手动打款 | POST | `/admin/transfers/{id}/manual` | 需认证 |
| 物流超时监控 | GET | `/admin/orders/logistics-abnormal` | 需认证 |

---

### 4. 数据看板
| 接口名称 | 方法 | 路径 | 说明 |
|---------|------|------|------|
| 平台核心数据 | GET | `/admin/dashboard` | 总订单/总营收 |
| 商家销量排行 | GET | `/admin/merchants/rank` | TOP N商家 |

---

## Apifox 导入建议
1. **创建分组**: 按「用户端/商家端/管理员端」创建3个顶级分组，每个分组下再按模块创建子分组。
2. **环境配置**: 添加 `dev` 环境，Base URL 设为 `http://localhost:8080/api`。
3. **前置操作**: 在「登录」接口的「后置操作」中设置 `token` 为环境变量，后续接口自动引用。

需要我为某个具体模块提供更详细的接口字段说明或业务逻辑补充吗？